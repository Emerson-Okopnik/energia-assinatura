project_name: energia-assinatura
app_domain: app.consorcioliderenergy.com.br
api_domain: app.consorcioliderenergy.com.br/api
app_user: www-data
app_root: /var/www/energia-assinatura
repository_url: https://github.com/Emerson-Okopnik/energia-assinatura.git
deploy_branch: main

php_version: "8.2"

db_host: "{{ vault_db_host | default(lookup('env', 'RDS_ENDPOINT'), true) }}"
db_port: 6543
db_name: postgres
db_username: "{{vault_db_username | default(lookup('env', 'DB_USERNAME'), true) }}"
db_password: "{{ vault_db_password | default(lookup('env', 'DB_PASSWORD'), true) }}"          # ansible-vault
app_key: "{{ vault_app_key | default(lookup('env', 'APP_KEY'), true) }}"                  # Base64::32 chars
jwt_secret: "{{ vault_jwt_secret | default(lookup('env', 'JWT_SECRET'), true) }}"            # 32+ chars
queue_connection: database

vite_api_url: "https://{{ api_domain }}"
browsershot_chrome_path: >-
  {{ '/snap/bin/chromium' if (ansible_distribution == 'Ubuntu' and
  ansible_distribution_version is version('22.04', '>=')) else '/usr/bin/chromium' }}
browsershot_node_path: /usr/bin/node

letsencrypt_email: ti2@rudniksolucoes.com.br         # opcional

# Secrets armazenados em group_vars/all/vault.yml criptografado
